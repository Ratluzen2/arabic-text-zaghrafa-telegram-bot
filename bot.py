# -*- coding: utf-8 -*-
import os
import logging
from telegram import Update
from telegram.ext import Application, CommandHandler, MessageHandler, InlineQueryHandler, filters
from telegram.inline import InlineQueryResultArticle, InputTextMessageContent

# --- Ø®Ø±ÙŠØ·Ø© ÙˆØ¯Ø§Ù„Ø© Ø§Ù„Ø²Ø®Ø±ÙØ© (Zaghrafa Map and Function) ---

# Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø²Ø®Ø±ÙØ© (Zaghrafa Mapping)
# Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø±ÙŠØ·Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© Ù„Ù„Ø²Ø®Ø±ÙØ©
# ÙŠÙ…ÙƒÙ† ØªÙˆØ³ÙŠØ¹Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù†Ù…Ø§Ø·
# Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø²Ø®Ø±ÙØ© (Zaghrafa Styles)
# ÙƒÙ„ Ù†Ù…Ø· Ù‡Ùˆ Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† Ø®Ø±ÙŠØ·Ø© (Map) ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø£ØµÙ„ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø²Ø®Ø±Ù.

# Ø§Ù„Ù†Ù…Ø· 1: Ø²Ø®Ø±ÙØ© Ø§Ù„Ø­Ø±ÙˆÙ Ø¨Ø¨Ø¹Ø¶ Ø±Ù…ÙˆØ² Unicode Ø§Ù„Ù…Ù…ÙŠØ²Ø© (Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø£ØµÙ„ÙŠ)
ZAGHRAFA_STYLE_1 = {
    'Ø§': 'Ø¢', 'Ø£': 'Ø¢', 'Ø¥': 'Ø¢',
    'Ø¨': 'Ù»',
    'Øª': 'Ùº',
    'Ø«': 'Ù½',
    'Ø¬': 'Úƒ',
    'Ø­': 'Ø­Ù€',
    'Ø®': 'Ú',
    'Ø¯': 'Ú',
    'Ø°': 'ÚŒ',
    'Ø±': 'Ú’',
    'Ø²': 'Ú™',
    'Ø³': 'Ú›',
    'Ø´': 'Úœ',
    'Øµ': 'Ú',
    'Ø¶': 'Ú',
    'Ø·': 'Ø·Ù€',
    'Ø¸': 'Ø¸Ù€',
    'Ø¹': 'Ø¹Ù€',
    'Øº': 'ØºÙ€',
    'Ù': 'Ú£',
    'Ù‚': 'Ú¨',
    'Ùƒ': 'Úª',
    'Ù„': 'Ú¶',
    'Ù…': 'Ù…Ù€',
    'Ù†': 'Ú¼',
    'Ù‡': 'Ù‡Ù€',
    'Ùˆ': 'Û…',
    'ÙŠ': 'Û',
    'Ø©': 'Ø©',
    'Ù‰': 'Ù‰',
    'Ø¡': 'Ø¡',
    'Ø¢': 'Ø¢',
    'Ø£': 'Ø¢',
    'Ø¥': 'Ø¢',
    'Ø¤': 'Ø¤',
    'Ø¦': 'Ø¦',
    ' ': ' ğ“² ' # Ø²Ø®Ø±ÙØ© Ù„Ù„Ù…Ø³Ø§ÙØ©
}

# Ø§Ù„Ù†Ù…Ø· 2: Ø²Ø®Ø±ÙØ© Ø§Ù„Ø­Ø±ÙˆÙ Ø¨ÙˆØ¶Ø¹ Ù†Ù‚Ø§Ø· ÙˆØ²Ø®Ø§Ø±Ù Ø­ÙˆÙ„Ù‡Ø§
ZAGHRAFA_STYLE_2 = {
    'Ø§': 'Ø£Ù‘Ù„ÙØ£Ù‘', 'Ø£': 'Ø£Ù‘Ù„ÙØ£Ù‘', 'Ø¥': 'Ø£Ù‘Ù„ÙØ£Ù‘',
    'Ø¨': 'Ø¨Ù‹Ù‘Ù€',
    'Øª': 'ØªÙŒÙ€',
    'Ø«': 'Ø«Ù‹Ù€',
    'Ø¬': 'Ø¬Ù‘Ù€',
    'Ø­': 'Ø­Ù‹Ù€',
    'Ø®': 'Ø®ÙÙ€',
    'Ø¯': 'Ø¯Ù',
    'Ø°': 'Ø°Ù',
    'Ø±': 'Ø±Ù‹',
    'Ø²': 'Ø²Ù',
    'Ø³': 'Ø³ÙÙ€',
    'Ø´': 'Ø´ÙÙ€',
    'Øµ': 'ØµÙ‘Ù€',
    'Ø¶': 'Ø¶Ù‹Ù€',
    'Ø·': 'Ø·ÙÙ€',
    'Ø¸': 'Ø¸ÙÙ€',
    'Ø¹': 'Ø¹ÙŒÙ€',
    'Øº': 'ØºÙ‘Ù€',
    'Ù': 'ÙÙÙ€',
    'Ù‚': 'Ù‚ÙÙ€',
    'Ùƒ': 'Ú©Ù’Ù€',
    'Ù„': 'Ù„ÙÙ€',
    'Ù…': 'Ù…Ù‹Ù€',
    'Ù†': 'Ù†ÙÙ€',
    'Ù‡': 'Ù‡Ù‘Ù€',
    'Ùˆ': 'ÙˆÙŒ',
    'ÙŠ': 'ÙŠÙ‘ÙÙ€',
    'Ø©': 'Ø©Ù‘',
    'Ù‰': 'Ù‰Ù‘',
    'Ø¡': 'Ø¡',
    'Ø¢': 'Ø¢',
    'Ø£': 'Ø£',
    'Ø¥': 'Ø¥',
    'Ø¤': 'Ø¤',
    'Ø¦': 'Ø¦',
    ' ': ' ğŸŒŸ '
}

# Ø§Ù„Ù†Ù…Ø· 3: Ø²Ø®Ø±ÙØ© Ø§Ù„Ø­Ø±ÙˆÙ Ø¨Ø¯Ù…Ø¬Ù‡Ø§ Ù…Ø¹ Ø±Ù…ÙˆØ² Ù„Ø§ØªÙŠÙ†ÙŠØ© Ù…Ø´Ø§Ø¨Ù‡Ø© (L33t Speak Style)
ZAGHRAFA_STYLE_3 = {
    'Ø§': 'A', 'Ø£': 'A', 'Ø¥': 'A',
    'Ø¨': 'B',
    'Øª': 'T',
    'Ø«': 'TH',
    'Ø¬': 'J',
    'Ø­': '7',
    'Ø®': '5',
    'Ø¯': 'D',
    'Ø°': 'DH',
    'Ø±': 'R',
    'Ø²': 'Z',
    'Ø³': 'S',
    'Ø´': 'SH',
    'Øµ': 'S',
    'Ø¶': 'D',
    'Ø·': 'T',
    'Ø¸': 'Z',
    'Ø¹': '3',
    'Øº': 'GH',
    'Ù': 'F',
    'Ù‚': 'Q',
    'Ùƒ': 'K',
    'Ù„': 'L',
    'Ù…': 'M',
    'Ù†': 'N',
    'Ù‡': 'H',
    'Ùˆ': 'W',
    'ÙŠ': 'Y',
    'Ø©': 'H',
    'Ù‰': 'Y',
    'Ø¡': '2',
    'Ø¢': 'A',
    'Ø£': 'A',
    'Ø¥': 'A',
    'Ø¤': '2',
    'Ø¦': '2',
    ' ': ' _ '
}

# Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¬Ù…ÙŠØ¹ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø²Ø®Ø±ÙØ© Ø§Ù„Ù…ØªØ§Ø­Ø©
ZAGHRAFA_STYLES = {
    "1": {"name": "Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ù…Ù…ÙŠØ² (Unicode)", "map": ZAGHRAFA_STYLE_1},
    "2": {"name": "Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ù…Ø²Ø®Ø±Ù (Ù†Ù‚Ø§Ø·)", "map": ZAGHRAFA_STYLE_2},
    "3": {"name": "Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ù„Ø§ØªÙŠÙ†ÙŠ (L33t)", "map": ZAGHRAFA_STYLE_3},
}

def zaghraf_text(text, style_id="1"):
    """
    ØªÙ‚ÙˆÙ… Ø¨Ø²Ø®Ø±ÙØ© Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ù…Ø¯Ø®Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø²Ø®Ø±ÙØ© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©.
    """
    style_map = ZAGHRAFA_STYLES.get(style_id, ZAGHRAFA_STYLES["1"])["map"]
    
    decorated_text = ""
    for char in text:
        # ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø­Ø±Ù Ø¥Ù„Ù‰ Ø­Ø±Ù ØµØºÙŠØ± (Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­)
        char_lower = char.lower()
        
        # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø±Ù ÙÙŠ Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø²Ø®Ø±ÙØ©ØŒ ÙˆØ¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ØŒ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø£ØµÙ„ÙŠ
        decorated_char = style_map.get(char_lower, char)
        
        decorated_text += decorated_char
        
    return decorated_text
    'Ø§': 'Ø¢', 'Ø£': 'Ø¢', 'Ø¥': 'Ø¢',
    'Ø¨': 'Ù»',
    'Øª': 'Ùº',
    'Ø«': 'Ù½',
    'Ø¬': 'Úƒ',
    'Ø­': 'Ø­Ù€',
    'Ø®': 'Ú',
    'Ø¯': 'Ú',
    'Ø°': 'ÚŒ',
    'Ø±': 'Ú’',
    'Ø²': 'Ú™',
    'Ø³': 'Ú›',
    'Ø´': 'Úœ',
    'Øµ': 'Ú',
    'Ø¶': 'Ú',
    'Ø·': 'Ø·Ù€',
    'Ø¸': 'Ø¸Ù€',
    'Ø¹': 'Ø¹Ù€',
    'Øº': 'ØºÙ€',
    'Ù': 'Ú£',
    'Ù‚': 'Ú¨',
    'Ùƒ': 'Úª',
    'Ù„': 'Ú¶',
    'Ù…': 'Ù…Ù€',
    'Ù†': 'Ú¼',
    'Ù‡': 'Ù‡Ù€',
    'Ùˆ': 'Û…',
    'ÙŠ': 'Û',
    'Ø©': 'Ø©',
    'Ù‰': 'Ù‰',
    'Ø¡': 'Ø¡',
    'Ø¢': 'Ø¢',
    'Ø£': 'Ø¢',
    'Ø¥': 'Ø¢',
    'Ø¤': 'Ø¤',
    'Ø¦': 'Ø¦',
    ' ': ' ğ“² ' # Ø²Ø®Ø±ÙØ© Ù„Ù„Ù…Ø³Ø§ÙØ©
}



# --- ÙƒÙˆØ¯ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Main Bot Code) ---

# ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (Logging)
logging.basicConfig(
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s", level=logging.INFO
)
logger = logging.getLogger(__name__)

# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª Ù…Ù† Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
# ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØªØ¹ÙŠÙŠÙ† Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØºÙŠØ± Ù‚Ø¨Ù„ Ø§Ù„ØªØ´ØºÙŠÙ„
BOT_TOKEN = "8320082200:AAHB4DMYOmg-vXs8UhSsO-t00qf0jUxAh1Y" # ØªÙ… Ø¯Ù…Ø¬ Ø§Ù„ØªÙˆÙƒÙ† Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

# ØªÙ… Ø¯Ù…Ø¬ Ø§Ù„ØªÙˆÙƒÙ† Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŒ Ù„Ø°Ø§ Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ØªØºÙŠØ± Ø§Ù„Ø¨ÙŠØ¦Ø©.

async def start(update: Update, context):
    """ÙŠØ±Ø³Ù„ Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø£Ù…Ø± /start."""
    user = update.effective_user
    await update.message.reply_html(
        rf"Ù…Ø±Ø­Ø¨Ø§Ù‹ {user.mention_html()}! Ø£Ù†Ø§ **Ø¨ÙˆØª Ø§Ù„Ø²Ø®Ø±ÙØ© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ** ğŸ–‹ï¸. Ù…Ù‡Ù…ØªÙŠ Ù‡ÙŠ ØªØ²ÙŠÙŠÙ† Ù†ØµÙˆØµÙƒ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø£Ø¬Ù…Ù„ Ø§Ù„Ø£Ù†Ù…Ø§Ø·.",
    )
    await help_command(update, context) # Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø£Ù…Ø± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ù„Ù„ØªÙˆØ¶ÙŠØ­

async def help_command(update: Update, context):
    """ÙŠØ±Ø³Ù„ Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø£Ù…Ø± /help."""
    help_text = (
        "**ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙˆØª:**\n\n"
        "1. **Ø§Ù„Ø²Ø®Ø±ÙØ© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©:** Ø£Ø±Ø³Ù„ Ù„ÙŠ Ø£ÙŠ Ù†Øµ Ø¹Ø±Ø¨ÙŠ ÙˆØ³Ø£Ù‚ÙˆÙ… Ø¨Ø²Ø®Ø±ÙØªÙ‡ Ø¨Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ.\n"
        "2. **Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†Ù…Ø·:** Ø£Ø±Ø³Ù„ Ø§Ù„Ù†Øµ Ù…ØªØ¨ÙˆØ¹Ù‹Ø§ Ø¨Ø±Ù‚Ù… Ø§Ù„Ù†Ù…Ø· (Ù…Ø«Ø§Ù„: `Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… 2`).\n"
        "3. **Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¶Ù…Ù† (Inline Mode):** Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø¨ÙˆØª Ù…ØªØ¨ÙˆØ¹Ù‹Ø§ Ø¨Ø§Ù„Ù†Øµ ÙÙŠ Ø£ÙŠ Ù…Ø­Ø§Ø¯Ø«Ø© (Ù…Ø«Ø§Ù„: `@YourBotUsername Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø²Ø®Ø±ÙØªÙ‡`).\n\n"
        "**Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªØ§Ø­Ø©:**\n"
    )
    
    for style_id, style_info in ZAGHRAFA_STYLES.items():
        help_text += f"  â€¢ **Ø§Ù„Ù†Ù…Ø· {style_id}:** {style_info['name']}\n"
        
    help_text += "\n**Ù…Ù„Ø§Ø­Ø¸Ø©:** Ø³ÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù†Ù…Ø· 1 Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ Ø¥Ø°Ø§ Ù„Ù… ØªØ­Ø¯Ø¯ Ù†Ù…Ø·Ù‹Ø§."
    
    await update.message.reply_text(help_text, parse_mode='Markdown')

async def handle_text(update: Update, context):
    """ÙŠØ²Ø®Ø±Ù Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø³ØªÙ„Ù… ÙˆÙŠØ±Ø³Ù„Ù‡ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ØŒ Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†Ù…Ø·."""
    full_text = update.message.text.strip()
    
    # Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù†Øµ Ù„ÙŠØ³ Ø£Ù…Ø±Ù‹Ø§ (Ù…Ø«Ù„ /start Ø£Ùˆ /help)
    if full_text.startswith('/'):
        return

    # ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Ù…Ø·
    parts = full_text.rsplit(' ', 1)
    text_to_zaghraf = full_text
    style_id = "1" # Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
    
    if len(parts) > 1 and parts[-1].isdigit() and parts[-1] in ZAGHRAFA_STYLES:
        text_to_zaghraf = parts[0]
        style_id = parts[-1]

    # Ø²Ø®Ø±ÙØ© Ø§Ù„Ù†Øµ
    decorated_text = zaghraf_text(text_to_zaghraf, style_id)
    
    # Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø²Ø®Ø±Ù
    await update.message.reply_text(decorated_text)

async def error_handler(update: Update, context):
    """ÙŠØ³Ø¬Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªÙŠ ØªØ³Ø¨Ø¨Ù‡Ø§ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª."""
    logger.warning("Update '%s' caused error '%s'", update, context.error)
    # ÙŠÙ…ÙƒÙ† Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±
    # await update.message.reply_text("Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø·Ù„Ø¨Ùƒ.")

async def inline_query(update: Update, context):
    """ÙŠØ¹Ø§Ù„Ø¬ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Inline Query."""
    query = update.inline_query.query
    results = []

    if not query:
        # Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… ÙØ§Ø±ØºÙ‹Ø§ØŒ Ø§Ø¹Ø±Ø¶ Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        results.append(
            InlineQueryResultArticle(
                id="empty_query",
                title="Ø§Ø¨Ø¯Ø£ Ø¨ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù†Øµ Ù„Ù„Ø²Ø®Ø±ÙØ©...",
                input_message_content=InputTextMessageContent("Ø£Ø±Ø³Ù„ Ù„ÙŠ Ù†ØµÙ‹Ø§ Ù„Ø²Ø®Ø±ÙØªÙ‡!"),
            )
        )
    else:
        # ØªÙˆÙ„ÙŠØ¯ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø²Ø®Ø±ÙØ© Ù„ÙƒÙ„ Ù†Ù…Ø·
        for style_id, style_info in ZAGHRAFA_STYLES.items():
            decorated_text = zaghraf_text(query, style_id)
            
            results.append(
                InlineQueryResultArticle(
                    id=style_id,
                    title=f"Ø§Ù„Ù†Ù…Ø· {style_id}: {style_info['name']}",
                    input_message_content=InputTextMessageContent(decorated_text),
                    description=decorated_text,
                )
            )

    await update.inline_query.answer(results, cache_time=5)


def main():
    """ÙŠØ¨Ø¯Ø£ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª."""
    # Ø§Ù„ØªÙˆÙƒÙ† Ù…Ø¯Ù…Ø¬ Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ù„ØªØ­Ù‚Ù‚.

    # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØªÙ…Ø±ÙŠØ± ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª
    application = Application.builder().token(BOT_TOKEN).build()

    # Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø±
    application.add_handler(CommandHandler("start", start))
    application.add_handler(CommandHandler("help", help_command))

    # Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬ Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†ØµÙŠØ© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© (ØºÙŠØ± Ø§Ù„Ø£ÙˆØ§Ù…Ø±)
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_text))

    # Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬ Ù„Ù„Ø£Ø®Ø·Ø§Ø¡
    application.add_error_handler(error_handler)

    # Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬ Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Inline Query
    application.add_handler(InlineQueryHandler(inline_query))

    # Ø¨Ø¯Ø¡ Ø§Ù„Ø¨ÙˆØª
    print("Ø§Ù„Ø¨ÙˆØª ÙŠØ¹Ù…Ù„...")
    application.run_polling(allowed_updates=Update.ALL_TYPES)


if __name__ == "__main__":
    main()
